if [[ $SHELL == */bash ]]
then
    parse_git_branch() {
         git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
    }
    export PS1="\u@\h \[\e[32m\]\w \[\e[91m\]\$(parse_git_branch)\[\e[00m\]$ "
fi


if [[ $SHELL == */zsh ]]
then
  function parse_git_branch() {
    git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1) /'
  }
  
  function parse_conda_env() {
    if [[ -z $CONDA_DEFAULT_ENV ]]
    then 
      echo ""
    else
      echo "[$CONDA_DEFAULT_ENV] "
    fi
  }
   
  setopt PROMPT_SUBST
  export PROMPT='%0(?.. %F{red} тип [%?] %f) %F{blue}$(parse_conda_env)%f%F{cyan}$(parse_git_branch)%f%F{green}%1d >%f '
fi